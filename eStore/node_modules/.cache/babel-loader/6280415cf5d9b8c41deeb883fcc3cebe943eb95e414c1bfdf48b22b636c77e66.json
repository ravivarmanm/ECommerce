{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  cartItems: [],\n  totalItemsPrice: 0,\n  totalItems: 0,\n  totalQuantity: 0\n};\nconst cartSlice = createSlice({\n  name: \"cartSlice\",\n  initialState,\n  reducers: {\n    addCartItem: (state, action) => {\n      let item_exists = state.cartItems.find(item => item.id === action.payload.id);\n      if (!item_exists) {\n        state.cartItems = [...state.cartItems, action.payload];\n        state.totalQuantity = ++state.totalQuantity;\n        state.totalItemsPrice = state.totalItemsPrice + action.payload.price;\n        state.totalItems = ++state.totalItems;\n      }\n    },\n    updateItemQuantity: (state, action) => {\n      let index = action.payload.key;\n      if (action.payload.operator === \"+\") {\n        ++state.cartItems[index].quantity;\n        state.totalItemsPrice = state.totalItemsPrice + action.payload.item.price;\n        ++state.totalQuantity;\n      } else {\n        if (state.cartItems[index].quantity > 1) {\n          --state.cartItems[index].quantity;\n          state.totalItemsPrice = state.totalItemsPrice - action.payload.item.price;\n          --state.totalQuantity;\n        }\n      }\n    },\n    deleteCartItem: (state, action) => {\n      let filteredCart = state.cartItems.filter(elem => {\n        return elem.id != action.payload.id;\n      });\n      state.cartItems = filteredCart;\n      state.totalItemsPrice = state.totalItemsPrice - action.payload.price * action.payload.quantity;\n      state.totalQuantity = state.totalQuantity - action.payload.quantity;\n      --state.totalItems;\n    }\n  }\n});\nexport const {\n  addCartItem,\n  updateItemQuantity,\n  deleteCartItem\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","cartItems","totalItemsPrice","totalItems","totalQuantity","cartSlice","name","reducers","addCartItem","state","action","item_exists","find","item","id","payload","price","updateItemQuantity","index","key","operator","quantity","deleteCartItem","filteredCart","filter","elem","actions","reducer"],"sources":["G:/project/Ecommerce/eStore/src/Redux/Cart/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  cartItems: [],\n  totalItemsPrice: 0,\n  totalItems: 0,\n  totalQuantity: 0,\n};\n\nconst cartSlice = createSlice({\n  name: \"cartSlice\",\n  initialState,\n  reducers: {\n    addCartItem: (state, action) => {\n      let item_exists = state.cartItems.find(\n        (item) => item.id === action.payload.id\n      );\n      if (!item_exists) {\n        state.cartItems = [...state.cartItems, action.payload];\n        state.totalQuantity = ++state.totalQuantity;\n        state.totalItemsPrice = state.totalItemsPrice + action.payload.price;\n        state.totalItems = ++state.totalItems;\n      }\n    },\n    updateItemQuantity: (state, action) => {\n      let index = action.payload.key;\n      if (action.payload.operator === \"+\") {\n        ++state.cartItems[index].quantity;\n        state.totalItemsPrice =\n          state.totalItemsPrice + action.payload.item.price;\n        ++state.totalQuantity;\n      } else {\n        if (state.cartItems[index].quantity > 1) {\n          --state.cartItems[index].quantity;\n          state.totalItemsPrice =\n            state.totalItemsPrice - action.payload.item.price;\n          --state.totalQuantity;\n        }\n      }\n    },\n    deleteCartItem: (state, action) => {\n      let filteredCart = state.cartItems.filter((elem) => {\n        return elem.id != action.payload.id;\n      });\n      state.cartItems = filteredCart;\n      state.totalItemsPrice=state.totalItemsPrice-(action.payload.price*action.payload.quantity)\n      state.totalQuantity=state.totalQuantity-action.payload.quantity;\n      --state.totalItems\n    },\n  },\n});\n\nexport const { addCartItem, updateItemQuantity,deleteCartItem } = cartSlice.actions;\nexport default cartSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAG;EACnBC,SAAS,EAAE,EAAE;EACbC,eAAe,EAAE,CAAC;EAClBC,UAAU,EAAE,CAAC;EACbC,aAAa,EAAE;AACjB,CAAC;AAED,MAAMC,SAAS,GAAGN,WAAW,CAAC;EAC5BO,IAAI,EAAE,WAAW;EACjBN,YAAY;EACZO,QAAQ,EAAE;IACRC,WAAW,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC9B,IAAIC,WAAW,GAAGF,KAAK,CAACR,SAAS,CAACW,IAAI,CACnCC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,CACxC;MACD,IAAI,CAACH,WAAW,EAAE;QAChBF,KAAK,CAACR,SAAS,GAAG,CAAC,GAAGQ,KAAK,CAACR,SAAS,EAAES,MAAM,CAACK,OAAO,CAAC;QACtDN,KAAK,CAACL,aAAa,GAAG,EAAEK,KAAK,CAACL,aAAa;QAC3CK,KAAK,CAACP,eAAe,GAAGO,KAAK,CAACP,eAAe,GAAGQ,MAAM,CAACK,OAAO,CAACC,KAAK;QACpEP,KAAK,CAACN,UAAU,GAAG,EAAEM,KAAK,CAACN,UAAU;MACvC;IACF,CAAC;IACDc,kBAAkB,EAAE,CAACR,KAAK,EAAEC,MAAM,KAAK;MACrC,IAAIQ,KAAK,GAAGR,MAAM,CAACK,OAAO,CAACI,GAAG;MAC9B,IAAIT,MAAM,CAACK,OAAO,CAACK,QAAQ,KAAK,GAAG,EAAE;QACnC,EAAEX,KAAK,CAACR,SAAS,CAACiB,KAAK,CAAC,CAACG,QAAQ;QACjCZ,KAAK,CAACP,eAAe,GACnBO,KAAK,CAACP,eAAe,GAAGQ,MAAM,CAACK,OAAO,CAACF,IAAI,CAACG,KAAK;QACnD,EAAEP,KAAK,CAACL,aAAa;MACvB,CAAC,MAAM;QACL,IAAIK,KAAK,CAACR,SAAS,CAACiB,KAAK,CAAC,CAACG,QAAQ,GAAG,CAAC,EAAE;UACvC,EAAEZ,KAAK,CAACR,SAAS,CAACiB,KAAK,CAAC,CAACG,QAAQ;UACjCZ,KAAK,CAACP,eAAe,GACnBO,KAAK,CAACP,eAAe,GAAGQ,MAAM,CAACK,OAAO,CAACF,IAAI,CAACG,KAAK;UACnD,EAAEP,KAAK,CAACL,aAAa;QACvB;MACF;IACF,CAAC;IACDkB,cAAc,EAAE,CAACb,KAAK,EAAEC,MAAM,KAAK;MACjC,IAAIa,YAAY,GAAGd,KAAK,CAACR,SAAS,CAACuB,MAAM,CAAEC,IAAI,IAAK;QAClD,OAAOA,IAAI,CAACX,EAAE,IAAIJ,MAAM,CAACK,OAAO,CAACD,EAAE;MACrC,CAAC,CAAC;MACFL,KAAK,CAACR,SAAS,GAAGsB,YAAY;MAC9Bd,KAAK,CAACP,eAAe,GAACO,KAAK,CAACP,eAAe,GAAEQ,MAAM,CAACK,OAAO,CAACC,KAAK,GAACN,MAAM,CAACK,OAAO,CAACM,QAAS;MAC1FZ,KAAK,CAACL,aAAa,GAACK,KAAK,CAACL,aAAa,GAACM,MAAM,CAACK,OAAO,CAACM,QAAQ;MAC/D,EAAEZ,KAAK,CAACN,UAAU;IACpB;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEK,WAAW;EAAES,kBAAkB;EAACK;AAAe,CAAC,GAAGjB,SAAS,CAACqB,OAAO;AACnF,eAAerB,SAAS,CAACsB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}